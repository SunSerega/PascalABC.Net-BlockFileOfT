
<html>

	<head>
		 <style type="text/css">
		   .code_block {
			background: #c0c0c0;
			padding: 5px;
			padding-right: 20px; 
			border: solid 1px black; 
		   }
		 </style>
		 
		<script type="text/javascript">
			function toggle_show(id) {
				document.getElementById(id).style.display = document.getElementById(id).style.display == 'none' ? 'block' : 'none';
			}
		</script>
	</head>



	<body>
		<font size="3"><a href="./index.html"><=</a></font><br>
		<br>
		
		<p onClick="toggle_show('list')"><font size="4" color="008000" style="cursor: pointer"><u>Список разделов</u></font>
			<ul id="list" style="display: none">
				<li><font size="5"><a href="#code">Описание</a></font></li>
				<li><font size="5"><a href="#exmpl">Примеры</a></font></li>
				<li><font size="5"><a href="#remr">Примечания</a></font></li>
			</ul>
		</p>
		<hr />
		<p id="code">
			<font size="5"><a href="#code">Описание:</a></font><br>
			<p class="code_block">
					096:<t style="margin-left: 05px">    ///Полный размер файла, в байтах																</t>
				<br>097:<t style="margin-left: 05px">    ///Чтоб установить длину файла - надо открыть файл. Но прочитать длину можно не открывая		</t>
				<br>098:<t style="margin-left: 05px">    public property ByteSize:int64 read GetByteFileSize write SetByteFileSize;						</t>
			</p>
			<p onClick="toggle_show('impl')"><font size="5" color="008000" style="cursor: pointer"><u>Реализация</u></font>
				<p class="code_block" id = "impl" style="display: none">
						281:<t style="margin-left: 00px">function BlockFileOf&ltT>.GetByteFileSize:int64;												</t>
					<br>282:<t style="margin-left: 00px">begin																							</t>
					<br>283:<t style="margin-left: 10px">if fi = nil then raise new FileNotAssignedException;											</t>
					<br>284:<t style="margin-left: 10px">if str &lt> nil then																			</t>
					<br>285:<t style="margin-left: 10px">begin																							</t>
					<br>286:<t style="margin-left: 20px">Result := str.Length;																			</t>
					<br>287:<t style="margin-left: 20px">exit;																							</t>
					<br>288:<t style="margin-left: 10px">end;																							</t>
					<br>289:<t style="margin-left: 10px">fi.Refresh;																					</t>
					<br>290:<t style="margin-left: 10px">Result := fi.Length;																			</t>
					<br>291:<t style="margin-left: 00px">end;																							</t>
					<br>																																</t>
					<br>293:<t style="margin-left: 00px">procedure BlockFileOf&ltT>.SetByteFileSize(size:int64);										</t>
					<br>294:<t style="margin-left: 00px">begin																							</t>
					<br>295:<t style="margin-left: 10px">if fi = nil then raise new FileNotAssignedException;											</t>
					<br>296:<t style="margin-left: 10px">if str = nil then raise new FileNotOpenedException(fi.FullName);								</t>
					<br>297:<t style="margin-left: 10px">str.SetLength(size);																			</t>
					<br>298:<t style="margin-left: 00px">end;																							</t>
				</p>
			</p>
		</p>
		<hr />
		<p id="exmpl">
			<font size="5"><a href="#exmpl">Примеры:</a></font><br>
			<p class="code_block">
					<t style="margin-left: 00px">uses BlockFileOfT;																						</t>
				<br><t style="margin-left: 00px">																										</t>
				<br><t style="margin-left: 00px">begin																									</t>
				<br><t style="margin-left: 10px">var f := new <a href="create(string fname).html">BlockFileOf</a>&ltinteger>('temp.bin');				</t>
				<br><t style="margin-left: 10px">f.<a href="Rewrite().html">Rewrite</a>;																</t>
				<br><t style="margin-left: 10px">f.<a href="Size.html">Size</a> := 3;//Сделали длину файла такой, чтоб помещалось 3 элемента			</t>
				<br><t style="margin-left: 10px">writeln(f.ByteSize);//3*( sizeof(integer)=4 ) = 12														</t>
				<br><t style="margin-left: 00px">end.																									</t>

			</p>
		</p>
		<hr />
		<p id="remr">
			<font size="5"><a href="#remr">Примечания:</a></font><br>
			Это свойсто получает или перезаписывает длину файла, в байтах.<br>
			В основном, ожидается что это свойство будет использоваться для получения размера файла.<br>
			Длина_файла_в_байтах = отступ + ( кол-во_элеметов * размер_1_элемента ).<br>
			Если перезаписать эту длину так, что в файле будет помещаться только 2+3/4 элементов - <a href="Size.html">Size</a> будет возвращать 2 и <a href="EOF.html">EOF</a> будет возвращать True после второго элемента.
		</p>
	</body>

</html>